name: example
deployEnv: dev
region: us-east-1

serviceAccount:
  create: true
  annotations: {}

terminationGracePeriodSeconds: 30

hpa:
  create: true
  minReplicas: 1
  maxReplicas: 5
  cpuPercentage: 70

pdb:
  enabled: false
  minAvailable: 1
  # maxUnavailable: 1  # Use either minAvailable OR maxUnavailable, not both

networkPolicy:
  enabled: false
  ingress: []
  egress: []

revisionHistoryLimit: 10

# Set rollout to configure Argo Rollouts (canary/bluegreen).
# Set to null (~) to use a standard Deployment instead.
rollout:
  canary:
    maxUnavailable: 0
    steps:
      - setWeight: 10
      - pause:
          duration: 10m
      - setWeight: 50
      - pause:
          duration: 10m

# Only used when rollout is null
deployment:
  replicaCount: 2

app:
  image:
    registry: ecr
    name: ~
    tag: ~
  ports:
    - name: http
      containerPort: 8080
      protocol: TCP
  livenessProbe: {}
  readinessProbe: {}
  startupProbe: {}
  resources: {}
  env: {}
  secrets: {}
  envFrom: []
  volumes: []
  volumeMounts: []

service:
  create: true
  grpc: false
  type: ClusterIP
  port: 80
  targetPort: 80
  additionalPorts: {}

ingress:
  create: true
  grpc: false
  className: nginx
  letsencrypt: false
  clusterIssuer: letsencrypt-prod
  annotations: []
  hosts: []
  tls: []

customServices: []
customIngress: []

sealedSecrets:
  enabled: true
  encryptedData: {}
  annotations:
    "helm.sh/hook-weight": "-5"
  type: {}

dockerSecret: {}

migrations:
  enabled: false
  backoffLimit: 1
  activeDeadlineSeconds: 300
  # Optional: Use a different image for migrations (with dev dependencies)
  # If not specified, will use app.image (retrocompatible)
  # image:
  #   registry: ecr
  #   name: myapp-migrations
  #   tag: latest

cron:
  enabled: false
  successfulJobsHistoryLimit: 1
  failedJobsHistoryLimit: 2
  concurrencyPolicy: Forbid
  ttlSecondsAfterFinished: 60

testConnection:
  enabled: true
